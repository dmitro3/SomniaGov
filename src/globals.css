@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

:root {
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --gradient-warning: linear-gradient(135deg, #facc15 0%, #f59e0b 100%);
  --gradient-danger: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  scroll-behavior: smooth;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

a {
  color: inherit;
  text-decoration: none;
}

.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-dark {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.gradient-text {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-border {
  position: relative;
  background: transparent;
}

.gradient-border::before {
  content: '';
  position: absolute;
  inset: 0;
  padding: 2px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: inherit;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: xor;
}

.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite alternate;
}

@keyframes pulse-glow {
  from {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }
  to {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.8);
  }
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.badge-glow {
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
  border: 1px solid rgba(168, 85, 247, 0.3);
}

.rank-newcomer { @apply text-amber-600 bg-amber-100 border-amber-300; }
.rank-contributor { @apply text-gray-600 bg-gray-100 border-gray-300; }
.rank-delegate { @apply text-yellow-600 bg-yellow-100 border-yellow-300; }
.rank-council { @apply text-blue-600 bg-blue-100 border-blue-300; }
.rank-elder { @apply text-purple-600 bg-purple-100 border-purple-300; }

.dark .rank-newcomer { @apply text-amber-400 bg-amber-900/20 border-amber-700; }
.dark .rank-contributor { @apply text-gray-400 bg-gray-900/20 border-gray-700; }
.dark .rank-delegate { @apply text-yellow-400 bg-yellow-900/20 border-yellow-700; }
.dark .rank-council { @apply text-blue-400 bg-blue-900/20 border-blue-700; }
.dark .rank-elder { @apply text-purple-400 bg-purple-900/20 border-purple-700; }

.proposal-card {
  @apply bg-dark-800 border border-dark-700 rounded-xl p-6 transition-all duration-300;
}

.proposal-card:hover {
  @apply border-primary-500/50 shadow-glow;
}

.vote-button {
  @apply px-6 py-3 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed;
}

.vote-for {
  @apply bg-success-600 hover:bg-success-700 text-white;
}

.vote-against {
  @apply bg-danger-600 hover:bg-danger-700 text-white;
}

.vote-abstain {
  @apply bg-warning-600 hover:bg-warning-700 text-white;
}

.nft-card {
  @apply relative overflow-hidden rounded-xl bg-gradient-to-br from-purple-900/50 to-blue-900/50 border border-purple-500/30;
}

.nft-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s;
}

.nft-card:hover::before {
  transform: translateX(100%);
}

.stats-card {
  @apply bg-dark-800/50 backdrop-blur-sm border border-dark-700 rounded-xl p-6;
}

.loading-spinner {
  @apply inline-block animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite];
}

/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(51, 65, 85, 0.3);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.8);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 1);
}

/* Responsive design helpers */
@media (max-width: 768px) {
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 bg-dark-800 border-t border-dark-700 px-4 py-2 z-50;
  }
}

/* Animation utilities */
.fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/* Web3Modal fixes - ensure it appears above everything */
w3m-modal,
wcm-modal,
[data-testid="w3m-modal"],
[data-testid="wcm-modal"] {
  z-index: 2147483647 !important;
  position: fixed !important;
}

w3m-modal::part(w3m-modal),
wcm-modal::part(wcm-modal) {
  z-index: 2147483647 !important;
  position: fixed !important;
}

/* Additional Web3Modal selectors */
.w3m-modal,
.wcm-modal {
  z-index: 2147483647 !important;
  position: fixed !important;
}

/* Web3Modal backdrop */
.w3m-backdrop,
.wcm-backdrop {
  z-index: 2147483646 !important;
  position: fixed !important;
}

/* Ensure all Web3Modal components are above everything */
[class*="w3m-"],
[class*="wcm-"] {
  z-index: 2147483647 !important;
}

/* Additional comprehensive Web3Modal selectors */
div[role="dialog"],
div[data-radix-portal],
div[data-radix-focus-guard] {
  z-index: 2147483647 !important;
}

/* Web3Modal root container */
#w3m-modal,
#wcm-modal {
  z-index: 2147483647 !important;
  position: fixed !important;
}

/* Fix container overflow issues */
html {
  overflow: visible !important;
}

body {
  overflow-x: hidden;
  overflow-y: auto;
}

/* Ensure Web3Modal can render outside containers */
.min-h-screen {
  overflow: visible !important;
}

/* Web3Modal specific container fixes */
w3m-modal {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2147483647 !important;
  pointer-events: auto !important;
}

/* Fix for clipped modal content */
w3m-modal > div,
wcm-modal > div {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  max-height: 90vh !important;
  max-width: 90vw !important;
  overflow: visible !important;
}

/* Debug and force visibility */
w3m-modal,
wcm-modal {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Force all child elements to be visible */
w3m-modal *,
wcm-modal * {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* Alternative approach - target the shadow DOM */
w3m-modal::part(w3m-modal-card) {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  z-index: 2147483647 !important;
}

/* Form styles */
.form-input {
  @apply w-full px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
}

.form-textarea {
  @apply w-full px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 resize-none min-h-[120px];
}

.form-select {
  @apply w-full px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
}

/* Button variants */
.btn {
  @apply px-6 py-3 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-900;
}

.btn-primary {
  @apply bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500;
}

.btn-secondary {
  @apply bg-secondary-600 hover:bg-secondary-700 text-white focus:ring-secondary-500;
}

.btn-outline {
  @apply border border-dark-600 hover:bg-dark-700 text-white focus:ring-dark-500;
}

.btn-ghost {
  @apply hover:bg-dark-800 text-gray-400 hover:text-white focus:ring-dark-500;
}

/* Loading states */
.skeleton {
  @apply animate-pulse bg-dark-700 rounded;
}

.shimmer {
  background: linear-gradient(90deg, 
    rgba(51, 65, 85, 0.3) 25%, 
    rgba(71, 85, 105, 0.3) 50%, 
    rgba(51, 65, 85, 0.3) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}